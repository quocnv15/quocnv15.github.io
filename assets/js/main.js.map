{
  "version": 3,
  "sources": ["../../src/ts/modules/utils/dom.ts", "../../src/ts/modules/theme.ts", "../../src/ts/modules/navigation.ts", "../../src/ts/modules/copy-code.ts", "../../src/ts/modules/toc.ts", "../../src/ts/main.ts"],
  "sourcesContent": ["/**\n * Type-safe DOM manipulation utilities\n *\n * Provides:\n * - Safe element querying with TypeScript generics\n * - Null-checked element access\n * - Performance-optimized DOM operations\n * - Cross-browser compatibility helpers\n */\n\n/**\n * Query selector with guaranteed return type\n * Throws error if element not found - use when element is required\n */\nexport const qs = <T extends Element = Element>(\n  selector: string,\n  parent: ParentNode = document\n): T => {\n  const element = parent.querySelector<T>(selector);\n  if (!element) {\n    throw new Error(`Required element not found: ${selector}`);\n  }\n  return element;\n};\n\n/**\n * Query selector with optional return type\n * Returns null if element not found - use when element is optional\n */\nexport const qsSafe = <T extends Element = Element>(\n  selector: string,\n  parent: ParentNode = document\n): T | null => {\n  return parent.querySelector<T>(selector);\n};\n\n/**\n * Query selector all with type safety\n */\nexport const qsa = <T extends Element = Element>(\n  selector: string,\n  parent: ParentNode = document\n): NodeListOf<T> => {\n  return parent.querySelectorAll<T>(selector);\n};\n\n/**\n * Create element with attributes and text content\n */\nexport const create = <K extends keyof HTMLElementTagNameMap>(\n  tag: K,\n  attributes?: Record<string, string>,\n  textContent?: string\n): HTMLElementTagNameMap[K] => {\n  const element = document.createElement(tag);\n\n  if (attributes) {\n    Object.entries(attributes).forEach(([key, value]) => {\n      element.setAttribute(key, value);\n    });\n  }\n\n  if (textContent !== undefined) {\n    element.textContent = textContent;\n  }\n\n  return element;\n};\n\n/**\n * Check if DOM is ready\n */\nexport const ready = (callback: () => void): void => {\n  if (document.readyState === 'loading') {\n    document.addEventListener('DOMContentLoaded', callback);\n  } else {\n    callback();\n  }\n};\n\n/**\n * Debounce function for event handlers\n */\nexport const debounce = <T extends (...args: any[]) => any>(\n  func: T,\n  wait: number\n): ((...args: Parameters<T>) => void) => {\n  let timeout: NodeJS.Timeout;\n\n  return (...args: Parameters<T>) => {\n    clearTimeout(timeout);\n    timeout = setTimeout(() => func(...args), wait);\n  };\n};\n\n/**\n * Throttle function for scroll handlers\n */\nexport const throttle = <T extends (...args: any[]) => any>(\n  func: T,\n  limit: number\n): ((...args: Parameters<T>) => void) => {\n  let inThrottle: boolean;\n\n  return (...args: Parameters<T>) => {\n    if (!inThrottle) {\n      func(...args);\n      inThrottle = true;\n      setTimeout(() => inThrottle = false, limit);\n    }\n  };\n};\n\n/**\n * Check if element is in viewport\n */\nexport const isInViewport = (element: Element): boolean => {\n  const rect = element.getBoundingClientRect();\n  return (\n    rect.top >= 0 &&\n    rect.left >= 0 &&\n    rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n  );\n};\n\n/**\n * Smooth scroll to element with offset\n */\nexport const scrollToElement = (\n  element: Element,\n  offset: number = 0,\n  behavior: ScrollBehavior = 'smooth'\n): void => {\n  const elementPosition = element.getBoundingClientRect().top + window.scrollY;\n  const offsetPosition = elementPosition - offset;\n\n  window.scrollTo({\n    top: offsetPosition,\n    behavior\n  });\n};\n\n/**\n * Add event listener with cleanup function\n */\nexport const addEventListener = <K extends keyof HTMLElementEventMap>(\n  element: HTMLElement,\n  event: K,\n  handler: (this: HTMLElement, ev: HTMLElementEventMap[K]) => any,\n  options?: boolean | AddEventListenerOptions\n): (() => void) => {\n  element.addEventListener(event, handler, options);\n\n  return () => {\n    element.removeEventListener(event, handler, options);\n  };\n};\n\n/**\n * Get computed style value\n */\nexport const getStyle = (element: Element, property: string): string => {\n  return window.getComputedStyle(element).getPropertyValue(property);\n};\n\n/**\n * Check if CSS custom property is supported\n */\nexport const supportsCustomProperties = (): boolean => {\n  return CSS.supports('color', 'var(--test)');\n};\n\n/**\n * Load external script dynamically\n */\nexport const loadScript = (src: string): Promise<void> => {\n  return new Promise((resolve, reject) => {\n    const script = document.createElement('script');\n    script.src = src;\n    script.async = true;\n\n    script.onload = () => resolve();\n    script.onerror = () => reject(new Error(`Failed to load script: ${src}`));\n\n    document.head.appendChild(script);\n  });\n};", "/**\n * Dark mode theme management\n *\n * Features:\n * - Support light, dark, and system preference modes\n * - Persist user preference in LocalStorage\n * - Smooth transitions between themes\n * - Accessibility compliant (focus indicators, ARIA labels)\n * - Cross-browser compatibility\n * - System preference detection\n */\n\nimport { qsSafe, addEventListener } from './utils/dom';\nimport type { ThemeMode } from '../interfaces/types';\n\nexport type { ThemeMode };\n\nconst STORAGE_KEY = 'theme';\nconst THEME_ATTRIBUTE = 'data-theme';\nconst THEME_TRANSITION_DURATION = 300; // ms\n\n/**\n * Get system preferred theme\n */\nconst getSystemTheme = (): ThemeMode => {\n  if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n    return 'dark';\n  }\n  return 'light';\n};\n\n/**\n * Get stored theme from localStorage\n */\nexport const getStoredTheme = (): ThemeMode => {\n  try {\n    const stored = localStorage.getItem(STORAGE_KEY) as ThemeMode;\n    if (stored && ['light', 'dark', 'system'].includes(stored)) {\n      return stored;\n    }\n  } catch (error) {\n    console.warn('Failed to read theme from localStorage:', error);\n  }\n  return 'system';\n};\n\n/**\n * Get current active theme\n */\nexport const getCurrentTheme = (): ThemeMode => {\n  const stored = getStoredTheme();\n  if (stored === 'system') {\n    return getSystemTheme();\n  }\n  return stored;\n};\n\n/**\n * Apply theme to document\n */\nexport const applyTheme = (theme: ThemeMode): void => {\n  const actualTheme = theme === 'system' ? getSystemTheme() : theme;\n  document.documentElement.setAttribute(THEME_ATTRIBUTE, actualTheme);\n\n  // Update theme toggle button if it exists\n  updateToggleButton(actualTheme);\n\n  // Add transition class for smooth theme switching\n  document.documentElement.classList.add('theme-transitioning');\n\n  // Remove transition class after animation completes\n  setTimeout(() => {\n    document.documentElement.classList.remove('theme-transitioning');\n  }, THEME_TRANSITION_DURATION);\n\n  console.log(`\uD83C\uDFA8 Theme applied: ${actualTheme} (stored: ${theme})`);\n};\n\n/**\n * Store theme preference\n */\nconst storeTheme = (theme: ThemeMode): void => {\n  try {\n    localStorage.setItem(STORAGE_KEY, theme);\n  } catch (error) {\n    console.warn('Failed to save theme to localStorage:', error);\n  }\n};\n\n/**\n * Toggle between light and dark themes\n */\nexport const toggleTheme = (): void => {\n  const current = getCurrentTheme();\n  const next: ThemeMode = current === 'light' ? 'dark' : 'light';\n\n  // If current stored theme is 'system', update it to the actual theme\n  const stored = getStoredTheme();\n  storeTheme(stored === 'system' ? next : 'system');\n  applyTheme(stored === 'system' ? next : 'system');\n};\n\n/**\n * Set specific theme\n */\nexport const setTheme = (theme: ThemeMode): void => {\n  storeTheme(theme);\n  applyTheme(theme);\n};\n\n/**\n * Update toggle button state\n */\nconst updateToggleButton = (actualTheme: ThemeMode): void => {\n  const toggle = qsSafe('.theme-toggle');\n  if (!toggle) return;\n\n  const isActive = actualTheme === 'dark';\n  toggle.classList.toggle('active', isActive);\n  toggle.setAttribute('aria-pressed', isActive.toString());\n\n  // Update button text/icon if needed\n  const icon = toggle.querySelector('.theme-icon');\n  if (icon) {\n    icon.textContent = actualTheme === 'dark' ? '\uD83C\uDF19' : '\u2600\uFE0F';\n  }\n\n  // Update button title\n  toggle.setAttribute('title', actualTheme === 'dark' ? 'Switch to light mode' : 'Switch to dark mode');\n};\n\n/**\n * Listen for system theme changes\n */\nexport const watchSystemTheme = (): void => {\n  if (!window.matchMedia) return;\n\n  const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');\n\n  const handleChange = (): void => {\n    const stored = getStoredTheme();\n    if (stored === 'system') {\n      applyTheme('system');\n    }\n  };\n\n  // Modern browsers\n  if (mediaQuery.addEventListener) {\n    mediaQuery.addEventListener('change', handleChange);\n  } else {\n    // Legacy support\n    mediaQuery.addListener(handleChange);\n  }\n\n  console.log('\uD83D\uDC40 System theme watcher initialized');\n};\n\n/**\n * Create theme toggle button\n */\nconst createThemeToggleButton = (): HTMLElement => {\n  const button = document.createElement('button');\n  button.className = 'theme-toggle';\n  button.setAttribute('type', 'button');\n  button.setAttribute('aria-label', 'Toggle dark mode');\n  button.setAttribute('title', 'Toggle dark mode');\n  button.innerHTML = '<span class=\"theme-icon\">\uD83C\uDF19</span>';\n\n  return button;\n};\n\n/**\n * Setup theme toggle button\n */\nconst setupThemeToggleButton = (): void => {\n  // Check if button already exists\n  const existingButton = qsSafe('.theme-toggle');\n  if (existingButton) {\n    // Update existing button state\n    updateToggleButton(getCurrentTheme());\n    return;\n  }\n\n  // Find a suitable place to add the button\n  const header = qsSafe('.site-header, header, .site-nav');\n  if (!header) {\n    console.warn('\u26A0\uFE0F Could not find suitable location for theme toggle button');\n    return;\n  }\n\n  const button = createThemeToggleButton();\n\n  // Add button to header\n  header.appendChild(button);\n\n  // Add click handler\n  const cleanup = addEventListener(button, 'click', (e) => {\n    e.preventDefault();\n    toggleTheme();\n  });\n\n  // Store cleanup function\n  (button as any)._cleanup = cleanup;\n\n  // Initialize button state\n  updateToggleButton(getCurrentTheme());\n\n  console.log('\uD83C\uDFA8 Theme toggle button created and added to header');\n};\n\n/**\n * Initialize theme functionality\n */\nexport const initTheme = (defaultTheme?: ThemeMode): void => {\n  // Apply initial theme\n  const theme = defaultTheme || getStoredTheme();\n  applyTheme(theme);\n\n  // Watch for system theme changes\n  watchSystemTheme();\n\n  // Setup theme toggle button\n  setupThemeToggleButton();\n\n  console.log(`\uD83C\uDFA8 Theme functionality initialized with mode: ${theme}`);\n};\n\n/**\n * Cleanup theme functionality (for testing)\n */\nexport const cleanupTheme = (): void => {\n  const button = qsSafe('.theme-toggle');\n  if (button) {\n    const cleanup = (button as any)._cleanup;\n    if (typeof cleanup === 'function') {\n      cleanup();\n    }\n    button.remove();\n  }\n\n  console.log('\uD83E\uDDF9 Theme functionality cleaned up');\n};\n\n/**\n * Add CSS styles for theme toggle\n */\nexport const addThemeStyles = (): void => {\n  const styleId = 'theme-styles';\n\n  // Check if styles already exist\n  if (document.getElementById(styleId)) {\n    return;\n  }\n\n  const styles = `\n    /* Theme toggle button */\n    .theme-toggle {\n      background: transparent;\n      border: 1px solid #ddd;\n      border-radius: 50%;\n      width: 40px;\n      height: 40px;\n      padding: 0;\n      margin: 0 0.5rem;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.3s ease;\n      font-size: 1.2rem;\n      background: white;\n    }\n\n    .theme-toggle:hover {\n      border-color: #3498db;\n      transform: scale(1.1);\n    }\n\n    .theme-toggle:focus {\n      outline: 2px solid #3498db;\n      outline-offset: 2px;\n    }\n\n    .theme-toggle:active {\n      transform: scale(0.95);\n    }\n\n    .theme-toggle .theme-icon {\n      font-size: 1.2rem;\n      transition: opacity 0.3s ease;\n    }\n\n    /* Theme transitions */\n    .theme-transitioning,\n    .theme-transitioning * {\n      transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease !important;\n    }\n\n    /* Dark theme */\n    [data-theme=\"dark\"] {\n      color-scheme: dark;\n    }\n\n    /* Light theme (default) */\n    :root {\n      --bg-primary: #ffffff;\n      --bg-secondary: #f8f9fa;\n      --text-primary: #2c3e50;\n      --text-secondary: #5a6c7d;\n      --border-color: #e8e8e8;\n      --code-bg: #f6f8fa;\n      --accent: #3498db;\n    }\n\n    /* Dark theme */\n    [data-theme=\"dark\"] {\n      --bg-primary: #1a1a1a;\n      --bg-secondary: #2d2d2d;\n      --text-primary: #ffffff;\n      --text-secondary: #b0b0b0;\n      --border-color: #404040;\n      --code-bg: #2d2d2d;\n      --accent: #4a9eff;\n    }\n\n    /* Responsive adjustments */\n    @media (max-width: 768px) {\n      .theme-toggle {\n        width: 36px;\n        height: 36px;\n        font-size: 1rem;\n      }\n    }\n  `;\n\n  const styleElement = document.createElement('style');\n  styleElement.id = styleId;\n  styleElement.textContent = styles;\n  document.head.appendChild(styleElement);\n\n  console.log('\uD83C\uDFA8 Theme styles added to document');\n};", "/**\n * Mobile navigation functionality\n *\n * Features:\n * - Hamburger menu for mobile devices\n * - Smooth slide-in/out animations\n * - Click-outside-to-close functionality\n * - Keyboard navigation support\n * - Touch-friendly interactions\n * - Accessibility compliant\n * - Body scroll lock when menu is open\n */\n\nimport { qsSafe, addEventListener } from './utils/dom';\n\nconst MOBILE_BREAKPOINT = 768; // px\nconst ANIMATION_DURATION = 300; // ms\nconst FOCUSABLE_ELEMENTS = 'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])';\n\n/**\n * Check if device is mobile\n */\nconst isMobile = (): boolean => {\n  return window.innerWidth <= MOBILE_BREAKPOINT ||\n       ('ontouchstart' in window) ||\n       (navigator.maxTouchPoints > 0);\n};\n\n/**\n * Toggle body scroll lock\n */\nconst toggleBodyScrollLock = (lock: boolean): void => {\n  const body = document.body;\n\n  if (lock) {\n    body.classList.add('nav-open');\n    body.style.overflow = 'hidden';\n    body.style.position = 'fixed';\n    body.style.width = '100%';\n    body.style.top = `-${window.scrollY}px`;\n  } else {\n    const scrollY = Math.abs(parseInt(body.style.top || '0', 10));\n    body.classList.remove('nav-open');\n    body.style.overflow = '';\n    body.style.position = '';\n    body.style.width = '';\n    body.style.top = '';\n    window.scrollTo(0, scrollY);\n  }\n};\n\n/**\n * Close mobile menu\n */\nconst closeMobileMenu = (): void => {\n  const toggle = qsSafe('.nav-toggle') as HTMLElement;\n  const menu = qsSafe('.nav-mobile') as HTMLElement;\n\n  if (!toggle || !menu) return;\n\n  // Update toggle state\n  toggle.classList.remove('active');\n  toggle.setAttribute('aria-expanded', 'false');\n\n  // Close menu\n  menu.classList.remove('active');\n\n  // Restore body scroll\n  toggleBodyScrollLock(false);\n\n  // Focus back to toggle button\n  setTimeout(() => {\n    toggle.focus();\n  }, ANIMATION_DURATION);\n\n  console.log('\uD83D\uDCF1 Mobile menu closed');\n};\n\n/**\n * Open mobile menu\n */\nconst openMobileMenu = (): void => {\n  const toggle = qsSafe('.nav-toggle') as HTMLElement;\n  const menu = qsSafe('.nav-mobile') as HTMLElement;\n\n  if (!toggle || !menu) return;\n\n  // Update toggle state\n  toggle.classList.add('active');\n  toggle.setAttribute('aria-expanded', 'true');\n\n  // Open menu\n  menu.classList.add('active');\n\n  // Prevent body scroll\n  toggleBodyScrollLock(true);\n\n  // Focus first menu item\n  setTimeout(() => {\n    const firstMenuItem = menu.querySelector(FOCUSABLE_ELEMENTS) as HTMLElement;\n    if (firstMenuItem) {\n      firstMenuItem.focus();\n    }\n  }, 100);\n\n  console.log('\uD83D\uDCF1 Mobile menu opened');\n};\n\n/**\n * Toggle mobile menu\n */\nconst toggleMobileMenu = (): void => {\n  const toggle = qsSafe('.nav-toggle') as HTMLElement;\n  if (!toggle) return;\n\n  const isOpen = toggle.classList.contains('active');\n\n  if (isOpen) {\n    closeMobileMenu();\n  } else {\n    openMobileMenu();\n  }\n};\n\n/**\n * Handle click outside menu\n */\nconst handleOutsideClick = (event: MouseEvent): void => {\n  const menu = qsSafe('.nav-mobile');\n  const toggle = qsSafe('.nav-toggle');\n\n  if (!menu || !toggle) return;\n\n  const target = event.target as Node;\n  const isClickInsideMenu = menu.contains(target);\n  const isClickOnToggle = toggle.contains(target);\n\n  if (!isClickInsideMenu && !isClickOnToggle) {\n    closeMobileMenu();\n  }\n};\n\n/**\n * Handle escape key\n */\nconst handleEscapeKey = (event: KeyboardEvent): void => {\n  if (event.key === 'Escape') {\n    closeMobileMenu();\n  }\n};\n\n/**\n * Setup mobile navigation toggle\n */\nconst setupMobileToggle = (): void => {\n  const toggle = qsSafe('.nav-toggle') as HTMLElement;\n  if (!toggle) {\n    console.warn('\u26A0\uFE0F Mobile navigation toggle button not found');\n    return;\n  }\n\n  // Set initial state\n  toggle.classList.remove('active');\n  toggle.setAttribute('aria-expanded', 'false');\n  toggle.setAttribute('aria-controls', 'mobile-menu');\n  toggle.setAttribute('aria-label', 'Toggle navigation menu');\n\n  // Add click handler\n  const cleanup = addEventListener(toggle, 'click', (e) => {\n    e.preventDefault();\n    toggleMobileMenu();\n  });\n\n  // Store cleanup function\n  (toggle as any)._cleanup = cleanup;\n\n  console.log('\uD83D\uDCF1 Mobile navigation toggle setup complete');\n};\n\n/**\n * Setup click outside to close\n */\nconst setupClickOutsideToClose = (): void => {\n  const cleanup = addEventListener(document as any, 'click', handleOutsideClick);\n  (document as any)._clickOutsideCleanup = cleanup;\n  console.log('\uD83D\uDCF1 Click outside to close functionality setup');\n};\n\n/**\n * Setup keyboard navigation\n */\nconst setupKeyboardNavigation = (): void => {\n  const menu = qsSafe('.nav-mobile') as HTMLElement;\n  if (!menu) return;\n\n  // Add keydown handler for trap focus\n  const keydownHandler = (e: KeyboardEvent): void => {\n    if (e.key === 'Tab') {\n      const focusableElements = Array.from(menu.querySelectorAll(FOCUSABLE_ELEMENTS)) as HTMLElement[];\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      if (e.shiftKey) {\n        if (document.activeElement === firstElement && firstElement) {\n          e.preventDefault();\n          lastElement?.focus();\n        }\n      } else {\n        if (document.activeElement === lastElement && lastElement) {\n          e.preventDefault();\n          firstElement?.focus();\n        }\n      }\n    }\n  };\n\n  const cleanup = addEventListener(menu, 'keydown', keydownHandler);\n  (menu as any)._keyboardCleanup = cleanup;\n\n  console.log('\uD83D\uDCF1 Keyboard navigation setup complete');\n};\n\n/**\n * Setup escape key handler\n */\nconst setupEscapeKeyHandler = (): void => {\n  const cleanup = addEventListener(document as any, 'keydown', handleEscapeKey);\n  (document as any)._escapeCleanup = cleanup;\n  console.log('\uD83D\uDCF1 Escape key handler setup complete');\n};\n\n/**\n * Setup responsive behavior\n */\nconst setupResponsiveBehavior = (): void => {\n  let isCurrentlyMobile = isMobile();\n\n  const handleResize = (): void => {\n    const isNowMobile = isMobile();\n\n    // If switching from desktop to mobile and menu is open, close it\n    if (!isCurrentlyMobile && isNowMobile) {\n      const menu = qsSafe('.nav-mobile') as HTMLElement;\n      if (menu && menu.classList.contains('active')) {\n        closeMobileMenu();\n      }\n    }\n\n    // If switching from mobile to desktop, ensure menu is closed\n    if (isCurrentlyMobile && !isNowMobile) {\n      closeMobileMenu();\n    }\n\n    isCurrentlyMobile = isNowMobile;\n  };\n\n  // Debounce resize handler\n  let resizeTimeout: NodeJS.Timeout;\n  const debouncedResize = () => {\n    clearTimeout(resizeTimeout);\n    resizeTimeout = setTimeout(handleResize, 150);\n  };\n\n  const cleanup = addEventListener(window as any, 'resize', debouncedResize);\n  (window as any)._resizeCleanup = cleanup;\n\n  console.log('\uD83D\uDCF1 Responsive behavior setup complete');\n};\n\n/**\n * Create mobile navigation toggle button\n */\nconst createMobileToggle = (): HTMLElement => {\n  const button = document.createElement('button');\n  button.className = 'nav-toggle';\n  button.setAttribute('type', 'button');\n  button.setAttribute('aria-label', 'Toggle navigation menu');\n  button.setAttribute('aria-controls', 'mobile-menu');\n  button.setAttribute('aria-expanded', 'false');\n  button.innerHTML = `\n    <span class=\"hamburger\">\n      <span class=\"hamburger-line\"></span>\n      <span class=\"hamburger-line\"></span>\n      <span class=\"hamburger-line\"></span>\n    </span>\n  `;\n  return button;\n};\n\n/**\n * Setup mobile navigation menu\n */\nconst setupMobileMenu = (): void => {\n  // Check if mobile menu already exists\n  const existingMenu = qsSafe('.nav-mobile');\n  if (existingMenu) {\n    console.log('\uD83D\uDCF1 Mobile menu already exists');\n    return;\n  }\n\n  // Create mobile menu if it doesn't exist\n  const menu = document.createElement('nav');\n  menu.className = 'nav-mobile';\n  menu.setAttribute('id', 'mobile-menu');\n  menu.setAttribute('role', 'navigation');\n  menu.setAttribute('aria-label', 'Mobile navigation');\n\n  // Copy navigation items from desktop menu\n  const desktopNav = qsSafe('.site-nav, .nav-links');\n  if (desktopNav) {\n    const navLinks = desktopNav.cloneNode(true);\n    menu.appendChild(navLinks);\n  }\n\n  // Add menu to page\n  const header = qsSafe('.site-header, header');\n  if (header) {\n    header.appendChild(menu);\n  }\n\n  console.log('\uD83D\uDCF1 Mobile navigation menu created');\n};\n\n/**\n * Initialize mobile navigation\n */\nexport const initNavigation = (): void => {\n  // Only initialize on mobile devices\n  if (!isMobile()) {\n    console.log('\uD83D\uDCF1 Desktop device detected - mobile navigation not initialized');\n    return;\n  }\n\n  // Setup mobile menu\n  setupMobileMenu();\n\n  // Setup toggle button (check if exists or create)\n  let toggle = qsSafe('.nav-toggle') as HTMLElement;\n  if (!toggle) {\n    toggle = createMobileToggle();\n    const header = qsSafe('.site-header, header');\n    if (header) {\n      header.appendChild(toggle);\n    }\n  }\n\n  // Setup all functionality\n  setupMobileToggle();\n  setupClickOutsideToClose();\n  setupKeyboardNavigation();\n  setupEscapeKeyHandler();\n  setupResponsiveBehavior();\n\n  // Make mobile menu visible\n  const menu = qsSafe('.nav-mobile') as HTMLElement;\n  if (menu) {\n    menu.style.display = 'block';\n  }\n\n  console.log('\uD83D\uDCF1 Mobile navigation initialized successfully');\n};\n\n/**\n * Cleanup mobile navigation\n */\nexport const cleanupMobileNav = (): void => {\n  // Remove event listeners\n  const cleanupFunctions = [\n    (document as any)._clickOutsideCleanup,\n    (document as any)._escapeCleanup,\n    (window as any)._resizeCleanup\n  ];\n\n  cleanupFunctions.forEach(cleanup => {\n    if (typeof cleanup === 'function') {\n      cleanup();\n    }\n  });\n\n  // Remove toggle button cleanup\n  const toggle = qsSafe('.nav-toggle') as HTMLElement;\n  if (toggle && (toggle as any)._cleanup) {\n    (toggle as any)._cleanup();\n  }\n\n  // Remove menu cleanup\n  const menu = qsSafe('.nav-mobile') as HTMLElement;\n  if (menu && (menu as any)._keyboardCleanup) {\n    (menu as any)._keyboardCleanup();\n  }\n\n  console.log('\uD83D\uDCF1 Mobile navigation cleaned up');\n};\n\n/**\n * Alias for backward compatibility\n */\nexport { initNavigation as initMobileNav };\n\n/**\n * Add CSS styles for mobile navigation\n */\nexport const addMobileNavStyles = (): void => {\n  const styleId = 'mobile-nav-styles';\n\n  // Check if styles already exist\n  if (document.getElementById(styleId)) {\n    return;\n  }\n\n  const styles = `\n    /* Mobile navigation toggle */\n    .nav-toggle {\n      display: none;\n      background: transparent;\n      border: none;\n      padding: 0.5rem;\n      cursor: pointer;\n      z-index: 1001;\n    }\n\n    .nav-toggle:focus {\n      outline: 2px solid #3498db;\n      outline-offset: 2px;\n    }\n\n    .hamburger {\n      display: flex;\n      flex-direction: column;\n      width: 24px;\n      height: 20px;\n      justify-content: space-between;\n    }\n\n    .hamburger-line {\n      width: 100%;\n      height: 2px;\n      background: #2c3e50;\n      border-radius: 1px;\n      transition: all 0.3s ease;\n      transform-origin: center;\n    }\n\n    /* Active state */\n    .nav-toggle.active .hamburger-line:nth-child(1) {\n      transform: rotate(45deg) translate(6px, 6px);\n    }\n\n    .nav-toggle.active .hamburger-line:nth-child(2) {\n      opacity: 0;\n    }\n\n    .nav-toggle.active .hamburger-line:nth-child(3) {\n      transform: rotate(-45deg) translate(7px, -6px);\n    }\n\n    /* Mobile navigation menu */\n    .nav-mobile {\n      display: none;\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      background: #fff;\n      border-bottom: 1px solid #e8e8e8;\n      box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n      z-index: 1000;\n      max-height: 100vh;\n      overflow-y: auto;\n      opacity: 0;\n      transform: translateY(-100%);\n      transition: all 0.3s ease;\n    }\n\n    .nav-mobile.active {\n      display: block;\n      opacity: 1;\n      transform: translateY(0);\n    }\n\n    .nav-mobile .nav-links {\n      display: flex;\n      flex-direction: column;\n      padding: 1rem 0;\n      gap: 0;\n      margin: 0;\n      list-style: none;\n      border-left: none;\n      padding-left: 0;\n    }\n\n    .nav-mobile .nav-link {\n      display: block;\n      width: 100%;\n      padding: 0.75rem 1.5rem;\n      text-decoration: none;\n      color: #2c3e50;\n      font-weight: 500;\n      transition: background-color 0.3s ease;\n      border-bottom: 1px solid #f0f0f0;\n    }\n\n    .nav-mobile .nav-link:hover,\n    .nav-mobile .nav-link:focus {\n      background-color: #f8f9fa;\n      color: #3498db;\n    }\n\n    .nav-mobile .nav-link:last-child {\n      border-bottom: none;\n    }\n\n    /* Body scroll lock */\n    .nav-open {\n      overflow: hidden;\n      position: fixed;\n      width: 100%;\n    }\n\n    /* Responsive styles */\n    @media (max-width: 768px) {\n      .nav-toggle {\n        display: block;\n      }\n\n      .nav-links {\n        display: none;\n      }\n\n      .site-nav-inner {\n        gap: 1rem;\n      }\n    }\n\n    /* Dark theme support */\n    [data-theme=\"dark\"] .nav-mobile {\n      background: #2d2d2d;\n      border-bottom-color: #404040;\n    }\n\n    [data-theme=\"dark\"] .hamburger-line {\n      background: #ffffff;\n    }\n\n    [data-theme=\"dark\"] .nav-mobile .nav-link {\n      color: #ffffff;\n      border-bottom-color: #404040;\n    }\n\n    [data-theme=\"dark\"] .nav-mobile .nav-link:hover,\n    [data-theme=\"dark\"] .nav-mobile .nav-link:focus {\n      background-color: #404040;\n      color: #4a9eff;\n    }\n  `;\n\n  const styleElement = document.createElement('style');\n  styleElement.id = styleId;\n  styleElement.textContent = styles;\n  document.head.appendChild(styleElement);\n\n  console.log('\uD83D\uDCF1 Mobile navigation styles added to document');\n};", "/**\n * Copy code to clipboard functionality\n *\n * Features:\n * - Copy code blocks with clipboard API\n * - Visual feedback for success/error states\n * - Fallback method for older browsers\n * - Touch-friendly interactions\n * - Accessibility support\n */\n\nimport { qsa, create, addEventListener } from './utils/dom';\n\nconst COPY_BUTTON_CLASS = 'copy-button';\nconst COPY_SUCCESS_CLASS = 'copied';\nconst COPY_ERROR_CLASS = 'copy-error';\nconst COPY_TIMEOUT = 2000;\n\n/**\n * Copy text to clipboard with fallback\n */\nconst copyToClipboard = async (text: string): Promise<boolean> => {\n  try {\n    // Modern clipboard API\n    if (navigator.clipboard && window.isSecureContext) {\n      await navigator.clipboard.writeText(text);\n      return true;\n    }\n\n    // Fallback method for older browsers\n    const textArea = document.createElement('textarea');\n    textArea.value = text;\n    textArea.style.position = 'fixed';\n    textArea.style.left = '-999999px';\n    textArea.style.top = '0';\n    textArea.style.width = '2em';\n    textArea.style.height = '2em';\n    textArea.style.padding = '0';\n    textArea.style.border = 'none';\n    textArea.style.outline = 'none';\n    textArea.style.boxShadow = 'none';\n    textArea.style.background = 'transparent';\n\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n\n    const successful = document.execCommand('copy');\n    document.body.removeChild(textArea);\n\n    return successful;\n  } catch (error) {\n    console.error('Failed to copy text:', error);\n    return false;\n  }\n};\n\n/**\n * Show copy success feedback\n */\nconst showCopySuccess = (button: HTMLElement): void => {\n  const originalText = button.textContent || 'Copy';\n  const originalClasses = button.className;\n\n  button.textContent = 'Copied!';\n  button.classList.add(COPY_SUCCESS_CLASS);\n\n  setTimeout(() => {\n    button.textContent = originalText;\n    button.className = originalClasses;\n  }, COPY_TIMEOUT);\n};\n\n/**\n * Show copy error feedback\n */\nconst showCopyError = (button: HTMLElement): void => {\n  const originalText = button.textContent || 'Copy';\n  const originalClasses = button.className;\n\n  button.textContent = 'Failed!';\n  button.classList.add(COPY_ERROR_CLASS);\n\n  setTimeout(() => {\n    button.textContent = originalText;\n    button.className = originalClasses;\n  }, COPY_TIMEOUT);\n};\n\n/**\n * Handle copy button click\n */\nconst handleCopyClick = async (button: HTMLElement, codeBlock: HTMLElement): Promise<void> => {\n  const code = codeBlock.textContent || '';\n\n  if (!code.trim()) {\n    console.warn('No code to copy');\n    return;\n  }\n\n  // Disable button temporarily to prevent multiple clicks\n  (button as HTMLButtonElement).disabled = true;\n  button.style.opacity = '0.6';\n  button.style.cursor = 'wait';\n\n  try {\n    const success = await copyToClipboard(code);\n\n    if (success) {\n      showCopySuccess(button);\n    } else {\n      showCopyError(button);\n    }\n  } catch (error) {\n    console.error('Copy failed:', error);\n    showCopyError(button);\n  } finally {\n    // Re-enable button\n    (button as HTMLButtonElement).disabled = false;\n    button.style.opacity = '';\n    button.style.cursor = '';\n  }\n};\n\n/**\n * Create copy button for code block\n */\nconst createCopyButton = (): HTMLElement => {\n  const button = create('button', {\n    class: COPY_BUTTON_CLASS,\n    type: 'button',\n    'aria-label': 'Copy code to clipboard',\n    title: 'Copy code',\n    'data-clipboard-text': ''\n  }, 'Copy');\n\n  return button;\n};\n\n/**\n * Setup copy button for a code block\n */\nconst setupCopyButton = (codeBlock: HTMLElement): void => {\n  // Skip if already has copy button\n  const parent = codeBlock.parentElement;\n  if (!parent || parent.classList.contains('has-copy-button')) {\n    return;\n  }\n\n  // Check if it's a code block inside pre\n  const preElement = parent.tagName === 'PRE' ? parent : codeBlock.closest('pre');\n  if (!preElement) {\n    return;\n  }\n\n  // Mark as processed\n  preElement.classList.add('has-copy-button');\n\n  // Create and append button\n  const button = createCopyButton();\n  preElement.style.position = 'relative';\n  preElement.appendChild(button);\n\n  // Add click handler\n  const cleanup = addEventListener(button, 'click', async (e) => {\n    e.preventDefault();\n    await handleCopyClick(button, codeBlock);\n  });\n\n  // Store cleanup function for potential removal later\n  (button as any)._cleanup = cleanup;\n\n  // Add keyboard support (Ctrl+C / Cmd+C when code block is focused)\n  const keyboardHandler = (e: KeyboardEvent): void => {\n    if ((e.ctrlKey || e.metaKey) && e.key === 'c') {\n      // Only handle if code block or its children are focused\n      const activeElement = document.activeElement;\n      if (activeElement === codeBlock || codeBlock.contains(activeElement)) {\n        e.preventDefault();\n        handleCopyClick(button, codeBlock);\n      }\n    }\n  };\n\n  const keydownCleanup = addEventListener(codeBlock, 'keydown', keyboardHandler);\n  (codeBlock as any)._keycleanup = keydownCleanup;\n};\n\n/**\n * Initialize copy functionality for all code blocks\n */\nexport const initCopyCode = (): void => {\n  // Find all code blocks (including those from highlight.js)\n  const codeBlocks = Array.from(qsa('pre code, highlight > code, .highlight > pre > code')) as HTMLElement[];\n\n  if (codeBlocks.length === 0) {\n    console.log('\uD83D\uDCDD No code blocks found for copy functionality');\n    return;\n  }\n\n  codeBlocks.forEach((codeBlock, index) => {\n    setupCopyButton(codeBlock);\n  });\n\n  console.log(`\uD83D\uDCCB Copy buttons initialized for ${codeBlocks.length} code blocks`);\n};\n\n/**\n * Cleanup copy functionality (for testing or dynamic content)\n */\nexport const cleanupCopyCode = (): void => {\n  const buttons = qsa(`.${COPY_BUTTON_CLASS}`);\n  buttons.forEach(button => {\n    const cleanup = (button as any)._cleanup;\n    if (typeof cleanup === 'function') {\n      cleanup();\n    }\n    button.remove();\n  });\n\n  const codeBlocks = Array.from(qsa('pre code, highlight > code, .highlight > pre > code')) as HTMLElement[];\n  codeBlocks.forEach(codeBlock => {\n    const keycleanup = (codeBlock as any)._keycleanup;\n    if (typeof keycleanup === 'function') {\n      keycleanup();\n    }\n  });\n\n  const preElements = qsa('.has-copy-button');\n  preElements.forEach(pre => {\n    pre.classList.remove('has-copy-button');\n  });\n\n  console.log('\uD83E\uDDF9 Copy code functionality cleaned up');\n};\n\n/**\n * Add CSS styles for copy buttons\n */\nexport const addCopyButtonStyles = (): void => {\n  const styleId = 'copy-button-styles';\n\n  // Check if styles already exist\n  if (document.getElementById(styleId)) {\n    return;\n  }\n\n  const styles = `\n    .copy-button {\n      position: absolute;\n      top: 0.5rem;\n      right: 0.5rem;\n      padding: 0.25rem 0.5rem;\n      background: #3498db;\n      color: white;\n      border: none;\n      border-radius: 4px;\n      font-size: 0.75rem;\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n      cursor: pointer;\n      transition: all 0.2s ease;\n      z-index: 10;\n      opacity: 0.8;\n    }\n\n    .copy-button:hover {\n      background: #2980b9;\n      opacity: 1;\n      transform: translateY(-1px);\n    }\n\n    .copy-button:focus {\n      outline: 2px solid #3498db;\n      outline-offset: 2px;\n    }\n\n    .copy-button:disabled {\n      cursor: not-allowed;\n      opacity: 0.6;\n    }\n\n    .copy-button.copied {\n      background: #27ae60;\n    }\n\n    .copy-button.copy-error {\n      background: #e74c3c;\n    }\n\n    /* Ensure code blocks have relative positioning */\n    pre {\n      position: relative;\n    }\n\n    /* Responsive adjustments */\n    @media (max-width: 768px) {\n      .copy-button {\n        font-size: 0.7rem;\n        padding: 0.2rem 0.4rem;\n        top: 0.3rem;\n        right: 0.3rem;\n      }\n    }\n\n    /* Dark mode support */\n    @media (prefers-color-scheme: dark) {\n      .copy-button {\n        background: #4a9eff;\n      }\n\n      .copy-button:hover {\n        background: #3a8eed;\n      }\n\n      .copy-button.copied {\n        background: #2ecc71;\n      }\n    }\n  `;\n\n  const styleElement = document.createElement('style');\n  styleElement.id = styleId;\n  styleElement.textContent = styles;\n  document.head.appendChild(styleElement);\n};", "/**\n * Table of Contents functionality\n *\n * Features:\n * - Auto-generate from h2-h6 headings\n * - Hierarchical structure with indentation\n * - Smooth scroll navigation\n * - Active section highlighting\n * - Responsive design for mobile\n * - Accessibility support\n * - Dynamic updates\n */\n\nimport { qsa, create, scrollToElement, addEventListener, throttle } from './utils/dom';\nimport type { TocItem } from '../interfaces/types';\n\nconst TOC_CONTAINER_SELECTOR = '#toc-container';\nconst TOC_ID_PREFIX = 'toc-';\nconst ACTIVE_CLASS = 'toc-active';\nconst HEADING_SELECTORS = 'h2, h3, h4, h5, h6';\nconst SCROLL_OFFSET = 80; // pixels\nconst THROTTLE_DELAY = 100; // ms\n\n/**\n * Generate hierarchical TOC structure\n */\nconst generateTOC = (headings: Element[]): TocItem[] => {\n  const toc: TocItem[] = [];\n  const stack: TocItem[] = [];\n\n  headings.forEach((heading, index) => {\n    const id = `${TOC_ID_PREFIX}${index}`;\n    heading.id = id;\n\n    const item: TocItem = {\n      id,\n      text: heading.textContent?.trim() || `Heading ${index + 1}`,\n      level: parseInt(heading.tagName.charAt(1)),\n      children: []\n    };\n\n    // Build hierarchy using stack\n    while (stack.length > 0 && (stack[stack.length - 1]?.level ?? 0) >= item.level) {\n      stack.pop();\n    }\n\n    if (stack.length === 0) {\n      toc.push(item);\n    } else {\n      stack[stack.length - 1]?.children.push(item);\n    }\n\n    stack.push(item);\n  });\n\n  return toc;\n};\n\n/**\n * Render TOC in container\n */\nconst renderTOC = (container: Element, toc: TocItem[]): void => {\n  if (toc.length === 0) {\n    container.innerHTML = '<p class=\"toc-empty\">No headings found</p>';\n    return;\n  }\n\n  const tocElement = create('nav', { class: 'toc' });\n  const listElement = create('ol', { class: 'toc-list' });\n\n  // Add TOC title\n  const titleElement = create('h2', { class: 'toc-title' }, 'Table of Contents');\n  tocElement.appendChild(titleElement);\n\n  renderTOCItems(listElement, toc, 0);\n  tocElement.appendChild(listElement);\n\n  container.innerHTML = '';\n  container.appendChild(tocElement);\n};\n\n/**\n * Render TOC items recursively\n */\nconst renderTOCItems = (parentElement: Element, items: TocItem[], depth: number): void => {\n  items.forEach((item, index) => {\n    const listItem = create('li', { class: 'toc-item' });\n\n    // Create link\n    const link = create('a', {\n      href: `#${item.id}`,\n      class: 'toc-link',\n      'data-level': item.level.toString()\n    }, item.text);\n\n    // Add click handler for smooth scroll\n    const linkCleanup = addEventListener(link, 'click', (e) => {\n      e.preventDefault();\n      const targetElement = document.getElementById(item.id);\n      if (targetElement) {\n        scrollToElement(targetElement, SCROLL_OFFSET);\n        updateActiveTOC(item.id);\n      }\n    });\n\n    listItem.appendChild(link);\n\n    // Render children if any\n    if (item.children.length > 0) {\n      const childList = create('ol', { class: `toc-list toc-list-${depth + 1}` });\n      renderTOCItems(childList, item.children, depth + 1);\n      listItem.appendChild(childList);\n    }\n\n    parentElement.appendChild(listItem);\n  });\n};\n\n/**\n * Update active TOC item\n */\nconst updateActiveTOC = (activeId: string): void => {\n  // Remove active class from all items\n  const activeElements = document.querySelectorAll(`.${ACTIVE_CLASS}`);\n  activeElements.forEach(el => el.classList.remove(ACTIVE_CLASS));\n\n  // Add active class to current item\n  const activeLink = document.querySelector(`a[href=\"#${activeId}\"]`);\n  if (activeLink) {\n    activeLink.classList.add(ACTIVE_CLASS);\n  }\n\n  // Update parent active states\n  let currentLink: Element | null | undefined = activeLink;\n  while (currentLink) {\n    const parentItem = currentLink.closest('.toc-item') as Element;\n    if (parentItem) {\n      const parentLink = parentItem.querySelector('.toc-link');\n      if (parentLink) {\n        parentLink.classList.add(ACTIVE_CLASS);\n      }\n    }\n    currentLink = parentItem?.parentElement?.closest('.toc-item');\n  }\n};\n\n/**\n * Check if element is in viewport with offset\n */\nconst isElementInViewport = (element: Element, offset: number = 0): boolean => {\n  const rect = element.getBoundingClientRect();\n  const windowHeight = window.innerHeight || document.documentElement.clientHeight;\n\n  return (\n    rect.top <= windowHeight &&\n    rect.bottom >= 0 &&\n    rect.left >= 0 &&\n    rect.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n    rect.top <= offset\n  );\n};\n\n/**\n * Get the current active heading\n */\nconst getCurrentActiveHeading = (): string | null => {\n  const headings = qsa(HEADING_SELECTORS);\n\n  for (let i = headings.length - 1; i >= 0; i--) {\n    const heading = headings[i];\n    if (heading && isElementInViewport(heading, SCROLL_OFFSET)) {\n      return heading.id;\n    }\n  }\n\n  return null;\n};\n\n/**\n * Setup scroll spy functionality\n */\nconst setupScrollSpy = (): void => {\n  const scrollHandler = throttle(() => {\n    const activeId = getCurrentActiveHeading();\n    if (activeId) {\n      updateActiveTOC(activeId);\n    }\n  }, THROTTLE_DELAY);\n\n  const cleanup = addEventListener(window as any, 'scroll', scrollHandler);\n  (window as any)._scrollSpyCleanup = cleanup;\n\n  // Initial check\n  setTimeout(() => {\n    const activeId = getCurrentActiveHeading();\n    if (activeId) {\n      updateActiveTOC(activeId);\n    }\n  }, 100);\n\n  console.log('\uD83D\uDCD1 Scroll spy functionality setup');\n};\n\n/**\n * Observe content changes and update TOC\n */\nconst setupContentObserver = (): void => {\n  const targetNode = document.querySelector('.post-content, .page-content');\n  if (!targetNode) return;\n\n  const observer = new MutationObserver(() => {\n    // Debounce rapid changes\n    setTimeout(() => {\n      const headings = Array.from(qsa(HEADING_SELECTORS));\n      if (headings.length === 0) return;\n\n      const toc = generateTOC(headings);\n      const container = document.querySelector(TOC_CONTAINER_SELECTOR);\n      if (container) {\n        renderTOC(container, toc);\n        setupScrollSpy();\n      }\n    }, 100);\n  });\n\n  observer.observe(targetNode, {\n    childList: true,\n    subtree: true\n  });\n\n  console.log('\uD83D\uDCD1 Content observer setup');\n};\n\n/**\n * Find TOC container or create one\n */\nconst getOrCreateTOCContainer = (): Element | null => {\n  // Try to find existing container\n  let container = document.querySelector(TOC_CONTAINER_SELECTOR);\n  if (container) return container;\n\n  // Find suitable location to insert TOC\n  const postContent = document.querySelector('.post-content');\n  const pageContent = document.querySelector('.page-content');\n\n  const targetContent = postContent || pageContent;\n  if (!targetContent) {\n    console.warn('\u26A0\uFE0F Could not find suitable location for TOC');\n    return null;\n  }\n\n  // Create container\n  container = create('div', {\n    id: TOC_CONTAINER_SELECTOR.replace('#', ''),\n    class: 'toc-container'\n  });\n\n  // Insert after first paragraph or at the beginning\n  const firstParagraph = targetContent.querySelector('p');\n  if (firstParagraph) {\n    firstParagraph.parentNode?.insertBefore(container, firstParagraph.nextSibling);\n  } else {\n    targetContent.insertBefore(container, targetContent.firstChild);\n  }\n\n  return container;\n};\n\n/**\n * Initialize TOC functionality\n */\nexport const initTOC = (): void => {\n  console.log('\uD83D\uDCD1 Initializing Table of Contents...');\n\n  // Get or create TOC container\n  const container = getOrCreateTOCContainer();\n  if (!container) {\n    console.log('\uD83D\uDCD1 No suitable location found for TOC');\n    return;\n  }\n\n  // Find headings in the page\n  const headings = Array.from(qsa(HEADING_SELECTORS));\n  if (headings.length === 0) {\n    console.log('\uD83D\uDCD1 No headings found - TOC not created');\n    container.innerHTML = '<p class=\"toc-empty\">No headings found on this page</p>';\n    return;\n  }\n\n  // Generate and render TOC\n  const toc = generateTOC(headings);\n  renderTOC(container, toc);\n\n  // Setup scroll spy\n  setupScrollSpy();\n\n  // Setup content observer for dynamic changes\n  setupContentObserver();\n\n  console.log(`\uD83D\uDCD1 Table of Contents initialized with ${headings.length} headings`);\n};\n\n/**\n * Cleanup TOC functionality\n */\nexport const cleanupTOC = (): void => {\n  // Remove event listeners\n  const scrollCleanup = (window as any)._scrollSpyCleanup;\n  if (typeof scrollCleanup === 'function') {\n    scrollCleanup();\n  }\n\n  // Clear TOC container\n  const container = document.querySelector(TOC_CONTAINER_SELECTOR);\n  if (container) {\n    container.innerHTML = '';\n  }\n\n  console.log('\uD83D\uDCD1 Table of Contents cleaned up');\n};\n\n/**\n * Add CSS styles for TOC\n */\nexport const addTOCStyles = (): void => {\n  const styleId = 'toc-styles';\n\n  // Check if styles already exist\n  if (document.getElementById(styleId)) {\n    return;\n  }\n\n  const styles = `\n    .toc-container {\n      margin: 2rem 0;\n      padding: 1.5rem;\n      background: #f8f9fa;\n      border: 1px solid #e8e8e8;\n      border-radius: 8px;\n    }\n\n    .toc-title {\n      font-size: 1.2rem;\n      font-weight: 600;\n      margin: 0 0 1rem 0;\n      color: #2c3e50;\n    }\n\n    .toc-list {\n      list-style: none;\n      padding: 0;\n      margin: 0;\n    }\n\n    .toc-item {\n      margin-bottom: 0.5rem;\n    }\n\n    .toc-link {\n      display: block;\n      padding: 0.25rem 0.5rem;\n      text-decoration: none;\n      color: #5a6c7d;\n      border-radius: 4px;\n      transition: all 0.2s ease;\n      font-size: 0.9rem;\n      line-height: 1.4;\n    }\n\n    .toc-link:hover,\n    .toc-link:focus {\n      color: #3498db;\n      background: rgba(52, 152, 219, 0.1);\n      text-decoration: none;\n    }\n\n    .toc-link.toc-active {\n      color: #3498db;\n      background: rgba(52, 152, 219, 0.15);\n      font-weight: 500;\n    }\n\n    /* Nested TOC items */\n    .toc-list-1 {\n      margin-left: 1rem;\n      padding-left: 0;\n    }\n\n    .toc-list-1 .toc-link {\n      font-size: 0.85rem;\n    }\n\n    .toc-list-2 {\n      margin-left: 2rem;\n      padding-left: 0;\n    }\n\n    .toc-list-2 .toc-link {\n      font-size: 0.8rem;\n    }\n\n    .toc-list-3 {\n      margin-left: 3rem;\n      padding-left: 0;\n    }\n\n    .toc-list-3 .toc-link {\n      font-size: 0.75rem;\n    }\n\n    /* Empty state */\n    .toc-empty {\n      text-align: center;\n      color: #7f8c8d;\n      font-style: italic;\n      margin: 0;\n    }\n\n    /* Responsive design */\n    @media (max-width: 768px) {\n      .toc-container {\n        margin: 1rem 0;\n        padding: 1rem;\n      }\n\n      .toc-title {\n        font-size: 1.1rem;\n      }\n\n      .toc-link {\n        font-size: 0.85rem;\n        padding: 0.2rem 0.4rem;\n      }\n\n      .toc-list-1 {\n        margin-left: 0.5rem;\n      }\n\n      .toc-list-2 {\n        margin-left: 1rem;\n      }\n\n      .toc-list-3 {\n        margin-left: 1.5rem;\n      }\n    }\n\n    /* Dark theme support */\n    [data-theme=\"dark\"] .toc-container {\n      background: #2d2d2d;\n      border-color: #404040;\n    }\n\n    [data-theme=\"dark\"] .toc-title {\n      color: #ffffff;\n    }\n\n    [data-theme=\"dark\"] .toc-link {\n      color: #b0b0b0;\n    }\n\n    [data-theme=\"dark\"] .toc-link:hover,\n    [data-theme=\"dark\"] .toc-link:focus {\n      color: #4a9eff;\n      background: rgba(74, 158, 255, 0.1);\n    }\n\n    [data-theme=\"dark\"] .toc-link.toc-active {\n      color: #4a9eff;\n      background: rgba(74, 158, 255, 0.15);\n    }\n\n    [data-theme=\"dark\"] .toc-empty {\n      color: #666666;\n    }\n  `;\n\n  const styleElement = document.createElement('style');\n  styleElement.id = styleId;\n  styleElement.textContent = styles;\n  document.head.appendChild(styleElement);\n\n  console.log('\uD83D\uDCD1 TOC styles added to document');\n};", "/**\n * Jekyll Blog TypeScript Frontend\n *\n * Architecture:\n * - Modular design with feature-based organization\n * - Type-safe DOM manipulation with null safety\n * - Performance optimized with lazy loading\n * - Error handling with graceful degradation\n */\n\n// Feature modules\nimport { initTheme, type ThemeMode } from './modules/theme';\nimport { initNavigation } from './modules/navigation';\nimport { initCopyCode } from './modules/copy-code';\nimport { initTOC } from './modules/toc';\n// import { initSearch } from './modules/search';\n// import { initShareButtons } from './modules/share';\n\n// Utilities\nimport { ready as domReady } from './modules/utils/dom';\n// import { initErrorHandling, initPerformanceMonitoring } from './modules/utils/errors';\n\n/**\n * Application configuration interface\n */\ninterface AppConfig {\n  theme: 'light' | 'dark' | 'system';\n  searchEnabled: boolean;\n  tocEnabled: boolean;\n  copyCodeEnabled: boolean;\n  shareButtonsEnabled: boolean;\n  isPost: boolean;\n  isHomePage: boolean;\n  environment: 'development' | 'production';\n}\n\n/**\n * Get configuration from page data or environment\n */\nconst getAppConfig = (): AppConfig => {\n  const script = document.querySelector<HTMLScriptElement>('#site-config');\n\n  if (script?.textContent) {\n    try {\n      return JSON.parse(script.textContent);\n    } catch (error) {\n      console.warn('Failed to parse site config:', error);\n    }\n  }\n\n  // Fallback configuration based on DOM inspection\n  return {\n    theme: 'system',\n    searchEnabled: !!document.querySelector('#search-input'),\n    tocEnabled: document.body.classList.contains('post'),\n    copyCodeEnabled: !!document.querySelector('pre code'),\n    shareButtonsEnabled: !!document.querySelector('.share-links'),\n    isPost: document.body.classList.contains('post'),\n    isHomePage: document.body.classList.contains('home'),\n    environment: (process.env.NODE_ENV as AppConfig['environment']) || 'development'\n  };\n};\n\n/**\n * Initialize application with error handling\n */\nconst initializeApp = async (): Promise<void> => {\n  const config = getAppConfig();\n\n  try {\n    console.log('\uD83D\uDE80 Jekyll TypeScript Frontend Starting...');\n    console.log('\uD83D\uDCCA Config:', config);\n\n    // Initialize core infrastructure\n    // initErrorHandling();\n    // initPerformanceMonitoring();\n\n    // Initialize features based on configuration\n    initTheme(config.theme);\n    initNavigation();\n\n    if (config.copyCodeEnabled) {\n      await initCopyCode();\n    }\n\n    if (config.tocEnabled && config.isPost) {\n      await initTOC();\n    }\n\n    if (config.searchEnabled) {\n      // await initSearch();\n      console.log('\uD83D\uDD0D Search functionality not implemented yet');\n    }\n\n    if (config.shareButtonsEnabled && config.isPost) {\n      // await initShareButtons();\n      console.log('\uD83D\uDCE4 Share buttons not implemented yet');\n    }\n\n    // Mark as ready\n    document.body.classList.add('js-enabled');\n    document.body.classList.remove('js-loading');\n\n    console.log('\u2705 Jekyll TypeScript frontend initialized successfully (Phase 2 complete)');\n\n  } catch (error) {\n    console.error('\u274C Failed to initialize app:', error);\n\n    // Fallback behavior\n    document.body.classList.add('js-fallback');\n    document.body.classList.remove('js-loading');\n\n    // Still enable basic functionality\n    try {\n      initTheme(config.theme);\n      initNavigation();\n    } catch (fallbackError) {\n      console.error('\u274C Even fallback initialization failed:', fallbackError);\n    }\n  }\n};\n\n/**\n * Application bootstrap\n */\ndomReady(() => {\n  document.body.classList.add('js-loading');\n  initializeApp();\n});\n\n// Export for external use and testing\nexport { initializeApp, getAppConfig };\nexport type { AppConfig };"],
  "mappings": "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",
  "names": []
}
